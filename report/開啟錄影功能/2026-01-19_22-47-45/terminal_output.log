================================================================================
測試案例: 開啟錄影功能
執行時間: 2026-01-19 22:47:43
執行命令: C:\Python314\python.exe -m pytest D:\nxwitness-demo\tests\test_runner.py --test_name 開啟錄影功能 -v -s --tb=short
工作目錄: D:\nxwitness-demo
================================================================================

============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
rootdir: D:\nxwitness-demo
plugins: anyio-4.12.1
collecting ... collected 1 item

tests/test_runner.py::test_main_flow[\u958b\u555f\u9304\u5f71\u529f\u80fd-steps0] >>> [DEBUG] ˬdnA]ؼЦA: LAPTOP-QRJN5735^
>>> [OK] Ҧ\Gw desktop_main/server_icon.png
>>> [OK] wbDeALݭsn]wqLDeҡ^
>>> [CASE_1-4]  Case 1-4: }ҿv\]v: usb_cam^
>>> [CLICK] kIv: usb_cam...
>>> [DEBUG] jϰ쥪O: (0, 0, 576, 1200)
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\usb_cam_item.png
>>> [DEBUG] OK Script ѵG: True, k: ok_script
>>> [CLICK_COORD] Iy: (39, 219), ʧ@=k
>>> [CLICK_COORD] Iy: (39, 219), ʧ@=k
[CLICK_COORD] Iy: (39, 219), ʧ@=k
>>> [OK] OK_SCRIPT Ѧ\I: desktop_main/usb_cam_item.png (H: 0.99, Ӯ: 267.0ms)
>>> [STAT] [yЮw] Үy: x_ratio=0.0203, y_ratio=0.1825 | ؤo: 1920x1200 | y: (39, 219)
>>> [OK] kIv\
================================================================================
[CLICK_MENU] ========== click_camera_settings_menu() kQեΡI==========
================================================================================
>>> [CLICK] Iuv]wv涵...
[CLICK_MENU] ǳIuv]wv涵...
[CLICK_MENU] ե smart_click Iuv]wv...
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\camera_settings_menu.png
>>> [DEBUG] OK Script ѵG: None, k: None
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\camera_settings_menu.png
>>> [DEBUG] OK Script ѵG: None, k: None
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\camera_settings_menu.png
>>> [DEBUG] OK Script ѵG: None, k: None
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\camera_settings_menu.png
>>> [DEBUG] OK Script ѵG: None, k: None
>>> [DEBUG]  OK Script Ϲ: D:\nxwitness-demo\res\desktop_main\camera_settings_menu.png
>>> [DEBUG] OK Script ѵG: None, k: None
>>> [ERROR] Ϥ/rѥѡAOХ\wTΡ]image_path=desktop_main/camera_settings_menu.png, target_text=None^
>>> [WARN] ϤѥѡAդrѡ]c餤^...
>>> [DEBUG] ˬd VLM : vlm_enabled=True, vlm_priority=2, target_text='v]w'
[SMART_CLICK] [DEBUG] ˬd VLM : vlm_enabled=True, vlm_priority=2, target_text='v]w'
>>> [VLM] uϥ LLM Ѥr: 'v]w'
>>> [DEBUG] _try_vlm_recognition Qե: target_text='v]w', region=(0, 0, 1920, 1200)
>>> [DEBUG] VLM ҥΪA: True
>>> [DEBUG] l VLM: backend=ollama, model=llava
>>> [OK] VLM lƦ\ (ollama/llava)
>>> [DEBUG] Ollama iΡAww˼ҫ: ["model='llava:latest' modified_at=datetime.datetime(2026, 1, 17, 17, 11, 23, 171732, tzinfo=TzInfo(28800)) digest='8dd30f6b0cb19f555f2c7a7ebda861449ea2cc76bf1f44e262931f45fc81d081' size=4733363377 details=ModelDetails(parent_model='', format='gguf', family='llama', families=['llama', 'clip'], parameter_size='7B', quantization_level='Q4_0')"]
>>> [DEBUG] _get_vlm_engine() ^: <base.vlm_recognizer.VLMRecognizer object at 0x000001E9BD654050> (: <class 'base.vlm_recognizer.VLMRecognizer'>)
>>> [VLM] bϥ LLM jM: 'v]w'
>>> [OK] VLM lƦ\: ollama/llava
>>> [DEBUG] VLM ѵG: success=True, confidence=0.6, x=1491, y=1190
>>> [CLICK_COORD] Iy: (1491, 1190), ʧ@=
>>> [CLICK_COORD] Iy: (1491, 1190), ʧ@=
[CLICK_COORD] Iy: (1491, 1190), ʧ@=
>>> [VLM] VLM Ѧ\I: v]w (H: 0.60, Ӯ: 2121ms)
>>> [STAT] [yЮw] Үy: x_ratio=0.7766, y_ratio=0.9917 | y: (1491, 1190)
>>> [DEBUG] VLM ѵG: True
>>> [WARN]  5 ᥼ε|l
>>> [WARN] wait_for_window AIw\A~BJ
[CLICK_MENU] wait_for_window AIw\
[CLICK_MENU] click_camera_settings_menu() A^ True
>>> [ERROR] IҥѡGv]w}ҡ]W: 5^
