# æª¢æ ¸é»ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æª¢æ ¸é»ï¼ˆVerification Itemsï¼‰æ˜¯æ¸¬è©¦å ±å‘Šä¸­çš„é‡è¦çµ„æˆéƒ¨åˆ†ï¼Œç”¨æ–¼æ¨™è¨»å’Œé©—è­‰æ¸¬è©¦éç¨‹ä¸­é—œéµå…ƒç´ çš„ç‹€æ…‹ã€‚å ±å‘Šç³»çµ±æœƒåœ¨æˆªåœ–ä¸Šç¹ªè£½ç´…æ¡†æ¨™å‡ºæª¢æ ¸ç‰©ä»¶ï¼Œä¸¦åœ¨å ±å‘Šä¸­åˆ—å‡ºæ‰€æœ‰æª¢æ ¸é …ç›®ã€‚

## ğŸ¯ æª¢æ ¸é»çš„ä½œç”¨

1. **è¦–è¦ºæ¨™è¨»**ï¼šåœ¨æˆªåœ–ä¸Šç”¨ç´…æ¡†æ¨™å‡ºé—œéµå…ƒç´ 
2. **ç‹€æ…‹é©—è­‰**ï¼šè¨˜éŒ„æ¯å€‹æ­¥é©Ÿä¸­éœ€è¦é©—è­‰çš„å…ƒç´ 
3. **å•é¡Œè¿½è¹¤**ï¼šç•¶æ¸¬è©¦å¤±æ•—æ™‚ï¼Œå¯ä»¥å¿«é€Ÿå®šä½å•é¡Œå…ƒç´ 
4. **å ±å‘Šå®Œæ•´æ€§**ï¼šæä¾›æ›´è©³ç´°çš„æ¸¬è©¦åŸ·è¡Œè¨˜éŒ„

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ç”¨æ³•ï¼ˆåªæä¾›åç¨±ï¼‰

æœ€ç°¡å–®çš„æ–¹å¼æ˜¯åªæä¾›æª¢æ ¸é …ç›®åç¨±ï¼š

```python
verification_items = [{"name": "æŒ‰éˆ•"}]
reporter.add_step(
    step_no=1,
    step_name="é»æ“ŠæŒ‰éˆ•",
    status="pass",
    message="æˆåŠŸé»æ“ŠæŒ‰éˆ•",
    verification_items=verification_items
)
```

### 2. ä½¿ç”¨è¼”åŠ©æ–¹æ³•ï¼ˆæ¨è–¦ï¼‰

ä½¿ç”¨ `DesktopApp.create_verification_item()` æ–¹æ³•å‰µå»ºæª¢æ ¸é»ï¼š

```python
# åªæä¾›åç¨±
item = self.create_verification_item("æŒ‰éˆ•")

# æä¾›ä¸­å¿ƒåº§æ¨™å’Œå°ºå¯¸
item = self.create_verification_item(
    "æŒ‰éˆ•",
    center_x=100,
    center_y=200,
    width=80,
    height=30
)

# æä¾›å·¦ä¸Šè§’åº§æ¨™å’Œå°ºå¯¸
item = self.create_verification_item(
    "åœ–æ¨™",
    x=50,
    y=100,
    width=40,
    height=40
)
```

### 3. å¤šå€‹æª¢æ ¸é»

ä¸€å€‹æ­¥é©Ÿå¯ä»¥åŒ…å«å¤šå€‹æª¢æ ¸é»ï¼š

```python
verification_items = [
    self.create_verification_item("æŒ‰éˆ•"),
    self.create_verification_item("è¼¸å…¥æ¡†"),
    self.create_verification_item("ç‹€æ…‹æŒ‡ç¤º")
]
reporter.add_step(
    step_no=1,
    step_name="æ“ä½œæ­¥é©Ÿ",
    status="pass",
    message="æ‰€æœ‰å…ƒç´ å·²é©—è­‰",
    verification_items=verification_items
)
```

### 4. å¾è¾¨è­˜çµæœå‰µå»ºæª¢æ ¸é»

å¦‚æœä½¿ç”¨åœ–ç‰‡è¾¨è­˜ã€VLM æˆ– OCRï¼Œå¯ä»¥å¾çµæœä¸­æå–åº§æ¨™ï¼š

```python
# å¾ OK Script çµæœå‰µå»º
result = recognizer.locate_on_screen(...)
items = self.create_verification_items_from_result("æŒ‰éˆ•", result)
```

## ğŸ“ å¯¦éš›ç¯„ä¾‹

### Case 1-2: å•Ÿç”¨ USB æ”å½±æ©Ÿ

```python
# æ­¥é©Ÿ 1: å³éµé»æ“Š Server åœ–ç¤º
verification_items = [
    self.create_verification_item("Server åœ–ç¤º"),
    self.create_verification_item("å³éµé¸å–®")
]
reporter.add_step(
    step_no=1,
    step_name="å³éµé»æ“Š Server åœ–ç¤º",
    status="pass",
    message="æˆåŠŸå³éµé»æ“Š Server åœ–ç¤ºï¼Œé¸å–®å·²é©—è­‰",
    verification_items=verification_items
)

# æ­¥é©Ÿ 3: å‹¾é¸ USB é¸é …
verification_items = [
    self.create_verification_item("USB æ”å½±æ©Ÿ checkbox")
]
reporter.add_step(
    step_no=3,
    step_name="å‹¾é¸ USB æ”å½±æ©Ÿé¸é …",
    status="pass",
    message="USB é¸é …å·²å‹¾é¸",
    verification_items=verification_items
)
```

### Case 1-5: å›æ”¾éŒ„å½±

```python
# æ­¥é©Ÿ 1: é»æ“Šæ—¥æ›†åœ–æ¨™
win = self.get_nx_window()
calendar_icon_x = int(win.left + win.width * 0.92)
calendar_icon_y = int(win.top + win.height - win.height * 0.04)
verification_items = [
    self.create_verification_item(
        "å³ä¸‹è§’æ—¥æ›†åœ–æ¨™",
        center_x=calendar_icon_x,
        center_y=calendar_icon_y,
        width=40,
        height=40
    ),
    self.create_verification_item("æ—¥æ›†å½ˆçª—")
]
reporter.add_step(
    step_no=1,
    step_name="é»æ“Šå³ä¸‹è§’æ—¥æ›†åœ–æ¨™",
    status="pass",
    message="æˆåŠŸé»æ“Šå³ä¸‹è§’æ—¥æ›†åœ–æ¨™ï¼Œæ—¥æ›†å·²å½ˆå‡º",
    verification_items=verification_items
)

# æ­¥é©Ÿ 2: é¸æ“‡æ—¥æœŸ
verification_items = [
    self.create_verification_item("éŒ„å½±æ—¥æœŸ"),
    self.create_verification_item("ç¶ è‰²éŒ„å½±æ¨™è¨˜"),
    self.create_verification_item("æ—¥æ›†å€åŸŸ")
]
reporter.add_step(
    step_no=2,
    step_name="é¸æ“‡æœ‰éŒ„å½±äº‹ä»¶çš„æ—¥æœŸ",
    status="pass",
    message="æˆåŠŸé¸ä¸­æœ‰éŒ„å½±äº‹ä»¶çš„æ—¥æœŸï¼Œç¶ è‰²æ¨™è¨˜å·²é©—è­‰",
    verification_items=verification_items
)
```

### Case 2-2: èª¿é–±éŒ„å½±äº‹ä»¶

```python
# æ­¥é©Ÿ 4: é©—è­‰ video æ’­æ”¾ç‹€æ…‹
verification_items = [
    {"name": "Video æ’­æ”¾å™¨"},
    {"name": "æ’­æ”¾æ§åˆ¶æŒ‰éˆ•"},
    {"name": "è¦–é »ç•«é¢å€åŸŸ"},
    {"name": "æ’­æ”¾ç‹€æ…‹æŒ‡ç¤º"}
]
reporter.add_step(
    step_no=4,
    step_name="é©—è­‰ video æ’­æ”¾ç‹€æ…‹",
    status="pass",
    message="å½±ç‰‡å·²è¼‰å…¥å®Œæˆä¸”å¯æ’­æ”¾ï¼Œæ‰€æœ‰æ’­æ”¾å…ƒç´ å·²é©—è­‰",
    verification_items=verification_items
)
```

## ğŸ¨ æª¢æ ¸é»å‘½åå»ºè­°

### å‘½åè¦ç¯„

1. **ä½¿ç”¨ä¸­æ–‡åç¨±**ï¼šæ¸…æ™°æè¿°å…ƒç´ åŠŸèƒ½
2. **å…·é«”æ˜ç¢º**ï¼šé¿å…ä½¿ç”¨æ¨¡ç³Šåç¨±å¦‚ã€Œå…ƒç´ 1ã€ã€ã€ŒæŒ‰éˆ•Aã€
3. **åŠŸèƒ½å°å‘**ï¼šä½¿ç”¨åŠŸèƒ½åç¨±è€ŒéæŠ€è¡“åç¨±

### å¸¸è¦‹æª¢æ ¸é»é¡å‹

| é¡å‹ | ç¯„ä¾‹ |
|------|------|
| æŒ‰éˆ• | "ç¢ºå®šæŒ‰éˆ•"ã€"å¥—ç”¨æŒ‰éˆ•"ã€"ç™»éŒ„æŒ‰éˆ•" |
| è¼¸å…¥æ¡† | "éƒµç®±è¼¸å…¥æ¡†"ã€"å¯†ç¢¼è¼¸å…¥æ¡†" |
| é¸å–® | "å³éµé¸å–®"ã€"ä¸‹æ‹‰é¸å–®" |
| è¦–çª— | "è¨­å®šè¦–çª—"ã€"ç¢ºèªå°è©±æ¡†" |
| åœ–æ¨™ | "Server åœ–ç¤º"ã€"æ—¥æ›†åœ–æ¨™" |
| ç‹€æ…‹ | "æ’­æ”¾ç‹€æ…‹"ã€"æš«åœç‹€æ…‹"ã€"ç™»éŒ„ç‹€æ…‹" |
| å€åŸŸ | "è¦–é »ç•«é¢å€åŸŸ"ã€"æ™‚é–“è»¸å€åŸŸ" |

## ğŸ“Š å ±å‘Šä¸­çš„é¡¯ç¤º

æª¢æ ¸é»æœƒåœ¨å ±å‘Šä¸­ä»¥ä¸‹åˆ—æ–¹å¼é¡¯ç¤ºï¼š

1. **æˆªåœ–æ¨™è¨»**ï¼šåœ¨æˆªåœ–ä¸Šç”¨ç´…è‰²çŸ©å½¢æ¡†æ¨™å‡ºæª¢æ ¸ç‰©ä»¶
2. **æ–‡å­—æ¨™ç±¤**ï¼šåœ¨æ¡†çš„ä¸Šæ–¹é¡¯ç¤ºæª¢æ ¸é …ç›®åç¨±
3. **åˆ—è¡¨é¡¯ç¤º**ï¼šåœ¨å ±å‘Šæ­¥é©Ÿä¸­åˆ—å‡ºæ‰€æœ‰æª¢æ ¸é …ç›®

## ğŸ”§ é€²éšæŠ€å·§

### 1. å‹•æ…‹è¨ˆç®—åº§æ¨™

```python
win = self.get_nx_window()
if win:
    # è¨ˆç®—å…ƒç´ ä½ç½®
    element_x = int(win.left + win.width * 0.5)
    element_y = int(win.top + win.height * 0.3)
    
    item = self.create_verification_item(
        "ä¸­å¤®æŒ‰éˆ•",
        center_x=element_x,
        center_y=element_y,
        width=100,
        height=40
    )
```

### 2. æ¢ä»¶æ€§æª¢æ ¸é»

```python
verification_items = []
if success:
    verification_items.append(self.create_verification_item("æˆåŠŸæŒ‡ç¤º"))
else:
    verification_items.append(self.create_verification_item("éŒ¯èª¤è¨Šæ¯"))
```

### 3. çµ„åˆå¤šå€‹æª¢æ ¸é»

```python
# é©—è­‰æ•´å€‹æ“ä½œæµç¨‹çš„å¤šå€‹å…ƒç´ 
verification_items = [
    self.create_verification_item("è¼¸å…¥æ¡†"),
    self.create_verification_item("ç¢ºèªæŒ‰éˆ•"),
    self.create_verification_item("çµæœå€åŸŸ")
]
```

## âœ… æœ€ä½³å¯¦è¸

1. **æ¯å€‹é—œéµæ­¥é©Ÿéƒ½æ·»åŠ æª¢æ ¸é»**ï¼šç¢ºä¿é‡è¦æ“ä½œéƒ½æœ‰é©—è­‰
2. **ä½¿ç”¨æè¿°æ€§åç¨±**ï¼šè®“å ±å‘Šæ›´æ˜“è®€
3. **æä¾›åº§æ¨™ä¿¡æ¯**ï¼šå¦‚æœçŸ¥é“å…ƒç´ ä½ç½®ï¼Œæä¾›åº§æ¨™ä»¥ä¾¿åœ¨æˆªåœ–ä¸Šæ¨™è¨»
4. **å¤šå€‹æª¢æ ¸é»**ï¼šä¸€å€‹æ­¥é©Ÿå¯ä»¥åŒ…å«å¤šå€‹ç›¸é—œçš„æª¢æ ¸é»
5. **å¤±æ•—æ™‚ä¹Ÿæ·»åŠ æª¢æ ¸é»**ï¼šå³ä½¿æ­¥é©Ÿå¤±æ•—ï¼Œä¹Ÿè¦è¨˜éŒ„æ‡‰è©²æª¢æ ¸çš„å…ƒç´ 

## ğŸ“š ç›¸é—œæ–‡ä»¶

- `engine/test_reporter.py` - å ±å‘Šç”Ÿæˆå™¨å¯¦ç¾
- `base/desktop_app.py` - è¼”åŠ©æ–¹æ³•å®šç¾©
- `actions/nx_poc_actions.py` - å¯¦éš›ä½¿ç”¨ç¯„ä¾‹
